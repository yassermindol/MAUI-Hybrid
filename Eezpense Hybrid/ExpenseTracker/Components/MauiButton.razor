@page "/maui-style-button"

<style>
    .maui-button {
        background-color: #512BD4 !important;
        border: 1px solid #c8c8c8 !important;
        color: white;
        border-radius: 10px !important;
        padding: 14px 10px !important;
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
        font-size: 14px;
        line-height: 1;
        cursor: pointer;
        box-shadow: none !important;
        margin: 10px 20px;
        transition: background-color 150ms ease, border-color 150ms ease, transform 100ms ease;
    }

        .maui-button:hover {
            background-color: #512BD4 !important;
        }

        /* Pressed state when class is added dynamically */
        .maui-button.pressed {
            transform: scale(0.96);
            background-color: #6f4fed !important;
        }
</style>

<button class="maui-button @(pressed ? "pressed" : "")" @onclick="Clicked">@Text</button>

@code {

    private bool pressed;
    [Parameter]
    public string Text { get; set; } = "Tap me";

    [Parameter]
    public EventCallback OnClickCallback { get; set; }

    private async Task Clicked()
    {
        pressed = true;
        StateHasChanged();

        await Task.Delay(200);
        pressed = false;
        StateHasChanged();

        if (OnClickCallback.HasDelegate)
            await OnClickCallback.InvokeAsync();
    }
}